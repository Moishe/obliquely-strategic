<!doctype html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<link rel="stylesheet" href="site.css">

	<!-- Page Info -->
	<link rel="shortcut icon" href="/images/favicon.png">
	<title>Obliquely Strategic Cooking</title>
	<meta name="description" content="Creative tools for delicious food.">

	<!-- Twitter Card -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="Obliquely Strategic Cooking">
	<meta name="twitter:description" content="Creative tools for delicious food.">
	<meta name="twitter:image:src" content=""> 

	<!-- Facebook OpenGraph -->
	<meta property="og:title" content="Obliquely Strategic Cooking" />
	<meta property="og:description" content="Creative tools for delicious food." />
	<meta property="og:image" content="" />

	<!-- Font Embed Code -->
	<link rel="stylesheet" href="https://use.typekit.net/joo4cvz.css">

	<!-- Data -->
	<script type='text/javascript' src='jquery-3.5.1.min.js'></script>
	<script type='text/javascript' src='meals.js'></script>
	<script type='text/javascript' src='dates.js'></script>
	<script type='text/javascript' src='meal_scenarios.js'></script>
	<script type='text/javascript' src='strategies.js'></script>
	<script type='text/javascript' src='still_lifes.js'></script>

	<style>
		a:link {
		text-decoration: none;
		}

		a:visited {
		text-decoration: none;
		}

		a:hover {
		text-decoration: underline;
		}

		a:active {
		text-decoration: underline;
		}

		body, html {
			height: 100%;
			margin: 0;
			font-family: futura-pt, sans-serif;
			font-weight: 400;
			font-style: normal;
			font-size: large;
		}

		div {
			display: block;
			padding-top: 30px;
		}

		.bg-img {
			background-image: url('images/two_hundred-01.jpg');
			height: 100%;
			position: relative;
			opacity: 0.25;
			background-position: center;
			background-repeat: no-repeat;
			background-size: cover;
			z-index: 0;
		}

		.overlap-container {
			opacity: 100%;
			position: fixed;
			left: 0;
			top: 0;
			width: 100%;
			z-index: 1;
			padding-top: 0px;
		}

		.content-top {
			width: 500px;
			margin: auto;
		}
		.content {
			width: 100%;
		}

		.title {
			width: 100%;
			padding-top: 50px;
		}

		.main-item {
			margin-bottom: 20px;
		}

		.centered {
			text-align: center;
		}

		.date {
			font-style: italic;
			font-weight: lighter;
			padding-top: 50px;
		}

		.meal {
			padding-top: 50px;
			line-height: 150%;
		}

		.scenario {
			padding-top: 50px;
			line-height: 150%;
		}

		.strategy {
			padding-top: 50px;
		}

		.credit {
			position: absolute;
			width: 100%;
			bottom: 0;
			text-align: center;
			font-size: small;
			margin-bottom: 30px;
		}

		.consideration {
			padding-top: 50px;
		}

		.strategy_links  {
			padding-top: 50px;
		}

		.strategy_link {
			margin: 30px;
		}
	</style></head>
<body>
	<div class="bg-img" id="bg-img">
	</div>
	<div class="overlap-container">
		<div class='title wrapper' id='navigation' style='display:none'>
			<div class='main-item centered'>
				<a href='#greatmeals' id='gm'>Great Meals of History</a>
			</div>
			<div class='main-item centered'>
				<a href='#obliquestrategy-1' id='os'>Have you considered...</a>
			</div>
		</div>
		<div class='content-top wrapper'>
			<div id='strategy' style='display:none' class='content centered'>
				<div class='consideration'>
					Have you considered
				</div>
				<div id='strategy-text' class='strategy'></div>
				<div class='strategy_links'>
					<a id='strategy-yes' class='strategy_link' href=''>Yes</a>
					<a id='strategy-no' class='strategy_link' href=''>No</a>
				</div>
			</div>
			<div id='greatmeals' style='display:none' class='content centered'>
				Great Meals
			</div>
		</div>
	</div>
	<div class='credit-container'>
		<div class='credit'>A Lettvin/Meltzer Joint</div>
	</div>
	<script type='text/javascript'>
		randomElement = function(arr) {
			return arr[Math.floor(Math.random() * arr.length)];
		}

		function randomBackground() {
			var idx = Math.floor(Math.random() * 59).toString();
			idx = idx.padStart(2, '0');
			$('#bg-img').css('background-image', `url(images/two_hundred-${idx}.jpg)`);
		}

		function showAGreatMeal() {
			randomBackground();
			$('#greatmeals').fadeIn("fast");						

			$('#greatmeals').html(function() {
				var idx = Math.floor(Math.random() * meals.length);
				return `<div class='date'>${dates[idx]}</div>` +
					`<div class='scenario'>${meal_scenarios[idx]}</div>` +
					`<div class='meal'>${meals[idx]}</div>`;
			})
		}

		function showAnObliqueStrategy(hash) {
			randomBackground();
			$('#strategy').fadeIn("fast");

			var idx = Math.floor(Math.random() * strategies.length);
			var still_life = randomElement(still_lifes);
			if (hash == '#obliquestrategy-1') {
				hash = '#obliquestrategy-2';
			} else  {
				hash = '#obliquestrategy-1';
			}

			$('#strategy-text').html(strategies[idx]);

			$('#strategy-yes').attr('href', hash);
			$('#strategy-no').attr('href', still_life);
		}

		function showNavForHash(hash) {
			$('#greatmeals').fadeOut("fast", function() {
				$('#strategy').fadeOut("fast", function() {
					if (hash == '#greatmeals') {
						$('#navigation').fadeOut("fast", function() {
							showAGreatMeal();
						});
					} else if (hash == '#obliquestrategy-1' || hash == '#obliquestrategy-2') {
						$('#navigation').fadeOut("fast", function() {
							showAnObliqueStrategy(hash);
						});
					} else {
						$('#navigation').fadeIn();
					}
				});
			});
		}

		$(function() {
			showNavForHash(window.location.hash);
			$(window).bind( 'hashchange', function(e) { 
				var hash = event.currentTarget.location.hash;
				showNavForHash(hash);
			});
			$('#strategy-no').click(function() {
				$('#bg-img').fadeOut("slow");
			});
		});
	</script>
</body>

</html>